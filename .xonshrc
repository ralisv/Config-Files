from math import factorial, pi, e, gcd, log
from wpm.commandline import main as wpm
import sys


$PATH.append("/home/ralis/.local/bin")
sys.path.append("/home/ralis/.local/lib/python3.10/site-packages")


source ~/Config-Files/utils.py

$FOREIGN_ALIASES_SUPPRESS_SKIP_MESSAGE = 1
$CASE_SENSITIVE_COMPLETIONS = False
$XONSH_COLOR_STYLE = "paraiso-dark"
$COMPLETION_QUERY_LIMIT = 10
$AUTO_CD = True
$COMPLETIONS_CONFIRM = False
$DYNAMIC_CWD_WIDTH = "50%"
$TITLE = "My lovely terminal"
$SUBSEQUENCE_PATH_COMPLETION = True
$COMPLETIONS_MENU_ROWS = 2
$COMPLETION_IN_THREAD = True
$COMPLETION_MODE = "default"
$UPDATE_COMPLETIONS_ON_KEYPRESS = True
$MULTILINE_PROMPT = " "


# Important aliases

my_aliases = {
    "d": "cd",
    "c": "cd",
    "s": "test -d ./.git && git status -s; ls --color=auto",
    "ls": "ls --color=auto",
    "drive": "mountpoint -q ~/Drive || setsid rclone mount Google-Drive:Drive ~/Drive",
    "micro": "subl",
    "okular": lambda args: start_in_new_session("/usr/bin/okular", args),
    "vlc": lambda args: start_in_new_session("/snap/bin/vlc", args),
    "rm": lambda args: remove(args),
    "grep": "grep --color=auto",
    "sl": "sl -e",
    "du": "du -h",
    "python": "python3.10",
    "pip": "python -m pip",
    "trans": "~/Executables/trans -j -d -t czech",
    "cat":"batcat --pager=never",
    "maisa": "sshfs 'xralis@aisa.fi.muni.cz:/home/xralis' /home/ralis/aisa",
    "aisa": "ssh 'xralis@aisa.fi.muni.cz'",
    "valgrind": "colour-valgrind --tool=memcheck --leak-check=full --show-leak-kinds=all --track-origins=yes --show-reachable=yes --track-fds=yes -s",
    "stackusage": "colour-valgrind --tool=drd --show-stack-usage=yes",
    "R": "R --no-save -q",
    "battery-info": "upower -i /org/freedesktop/UPower/devices/battery_BAT0",
    "xaisa": "xxh 'xralis@aisa.fi.muni.cz'",
}

aliases.update(my_aliases)



# Style the terminal

from xonsh.tools import register_custom_style

mystyle = {
    "Literal.String.Single": "#55ff55",
    "Literal.String.Double": "#55ff55",
    "Token.Operator": "#fffd00",
    "Token.PTK.CompletionMenu": "#000000",
    "Token.Literal.Number.Integer": "#44ffff",
}

register_custom_style("mystyle", mystyle, base="paraiso-dark")
$XONSH_COLOR_STYLE="mystyle"

def customize_autocompleter():
    import prompt_toolkit.styles.defaults as defstyle
    defstyle.PROMPT_TOOLKIT_STYLE.append(('bottom-toolbar','noreverse'))
    defstyle.PROMPT_TOOLKIT_STYLE.append(('completion-menu','bg:#880088 #000000'))

customize_autocompleter()

$PROMPT = "{#ff22bb}{user}.[{#00b0ff}{cwd}{#ff22bb}] Î» {#000000}"

# Colored ls

source-bash ~/Config-Files/ls-colors.sh

# Colored man pages

$LESS_TERMCAP_mb="\x1b[1;32m"
$LESS_TERMCAP_md="\x1b[38;2;255;180;50m"
$LESS_TERMCAP_me="\x1b[0m"
$LESS_TERMCAP_se="\x1b[0m"
$LESS_TERMCAP_so="\x1b[38;2;255;255;50m"
$LESS_TERMCAP_ue="\x1b[0m"
$LESS_TERMCAP_us="\x1b[38;2;255;100;50m"
